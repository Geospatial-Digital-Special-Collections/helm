applicationName: gdsc-collection-mirror
collectionName: "{{ .Release.Name }}"
ingressBase: https://r4-dev.idsc.miami.edu/
nameSpace: gdsc-mirror
pullPolicy: IfNotPresent
dataStore:
  persistence:
    storageClassName: gdsc-mirror-sc
    size: 4Gi
postgis:
  persistence:
    storageClassName: gdsc-mirror-sc
    size: 6Gi
airflow:
  enabled: true
  webserverSecretKeySecretName: dvmt-mirror-airflow-webserver-secret
  dags:
    gitSync:
      enabled: true
      repo: git@github.com:Geospatial-Digital-Special-Collections/airflow.git
      branch: main
      subPath: mirror
      sshKeySecret: ssh-git-secret
  config:
    webserver:
      base_url: "https://r4-dev.idsc.miami.edu/{{ .Release.Name }}/airflow"
  redis:
    persistence:
      storageClassName: gdsc-mirror-sc
      size: 1Gi # default 1Gi
  triggerer:
    persistence:
      storageClassName: gdsc-mirror-sc
      size: 1Gi # default 100Gi
  workers:
    persistence:
      storageClassName: gdsc-mirror-sc
      size: 1Gi # default 100Gi
  logs:
    persistence:
      storageClassName: gdsc-mirror-sc
      size: 1Gi # default 100Gi
  # so airflow doesn't wait for database migration at start
  createUserJob:
    useHelmHooks: false
    applyCustomEnv: false
  # so airflow doesn't wait for database migration at start
  migrateDatabaseJob:
    useHelmHooks: false
    applyCustomEnv: false
  postgresql:
    primary:
      persistence:
        storageClassName: gdsc-mirror-sc
        size: 1Gi # default 8Gi
    readReplicas:
      persistence:
        storageClassName: gdsc-mirror-sc
        size: 1Gi # default 8Gi
    backup:
      persistence:
        storageClassName: gdsc-mirror-sc
        size: 1Gi # default 8Gi
